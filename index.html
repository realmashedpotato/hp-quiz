<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Which Harry Potter Character Are You?</title>
  <style>
    :root{
      --bg:#0b1020;
      --card: rgba(255,255,255,.06);
      --card2: rgba(255,255,255,.08);
      --text:#e5e7eb;
      --muted:#a1a1aa;
      --border: rgba(255,255,255,.12);
      --accent:#7c3aed; /* purple */
      --accent2:#22c55e; /* green */
      --shadow: 0 18px 50px rgba(0,0,0,.45);
      --radius: 18px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(900px 520px at 10% 0%, rgba(124,58,237,.35), transparent 55%),
        radial-gradient(900px 520px at 90% 10%, rgba(34,197,94,.25), transparent 55%),
        radial-gradient(700px 380px at 50% 110%, rgba(59,130,246,.18), transparent 60%),
        var(--bg);
      min-height:100vh;
      line-height:1.6;
    }

    .container{
      width:min(980px, calc(100% - 2rem));
      margin:0 auto;
      padding: 2.5rem 0 4rem;
    }

    header{
      display:flex;
      flex-direction:column;
      gap:.6rem;
      margin-bottom: 1.6rem;
    }

    .kicker{
      display:inline-flex;
      width: fit-content;
      align-items:center;
      gap:.5rem;
      padding:.35rem .7rem;
      border:1px solid var(--border);
      border-radius:999px;
      background: rgba(255,255,255,.06);
      color: var(--muted);
      font-weight:700;
      font-size:.9rem;
    }

    h1{
      margin:0;
      letter-spacing:-.03em;
      font-size: clamp(1.8rem, 4.5vw, 2.8rem);
      line-height: 1.15;
    }

    .sub{
      margin:0;
      color: var(--muted);
      max-width: 70ch;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 1rem;
      margin-top: 1.2rem;
    }

    .card{
      border:1px solid var(--border);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .card-head{
      padding: 1.2rem 1.2rem 0.9rem;
      border-bottom: 1px solid rgba(255,255,255,.08);
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:1rem;
    }

    .progress{
      color: var(--muted);
      font-weight: 700;
      font-size: .95rem;
      white-space: nowrap;
    }

    .card-body{
      padding: 1.1rem 1.2rem 1.2rem;
    }

    .q{
      margin: 0 0 .8rem;
      font-size: 1.15rem;
      letter-spacing:-.01em;
    }

    .choices{
      display:grid;
      gap:.65rem;
      margin-top:.8rem;
    }

    .choice{
      display:flex;
      gap:.8rem;
      align-items:flex-start;
      padding:.8rem .9rem;
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      background: rgba(255,255,255,.06);
      cursor:pointer;
      transition: transform 160ms ease, border-color 160ms ease, background 160ms ease;
    }
    .choice:hover{
      transform: translateY(-2px);
      border-color: rgba(124,58,237,.35);
      background: rgba(124,58,237,.10);
    }

    input[type="radio"]{
      margin-top:.25rem;
      accent-color: var(--accent);
      transform: scale(1.05);
    }

    .choice b{
      display:block;
      margin-bottom:.15rem;
      letter-spacing:-.01em;
    }
    .choice span{
      color: var(--muted);
      font-size:.95rem;
    }

    .actions{
      display:flex;
      flex-wrap:wrap;
      gap:.7rem;
      margin-top: 1rem;
      align-items:center;
      justify-content:space-between;
    }

    .btn-row{
      display:flex;
      gap:.7rem;
      flex-wrap:wrap;
    }

    button{
      border:0;
      cursor:pointer;
      padding:.85rem 1rem;
      border-radius: 999px;
      font-weight: 800;
      letter-spacing: -.01em;
      color: var(--text);
      background: rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.14);
      transition: transform 160ms ease, background 160ms ease, border-color 160ms ease;
    }

    button:hover{
      transform: translateY(-2px);
      border-color: rgba(255,255,255,.22);
      background: rgba(255,255,255,.13);
    }

    button.primary{
      background: linear-gradient(135deg, rgba(124,58,237,1), rgba(34,197,94,.9));
      border: none;
    }

    button.primary:hover{
      filter: brightness(1.02);
    }

    button:disabled{
      opacity:.45;
      cursor:not-allowed;
      transform:none;
    }

    .hint{
      color: var(--muted);
      font-size:.95rem;
      margin: 0;
    }

    .result{
      display:none;
      padding: 1.2rem;
    }

    .result .badge{
      display:inline-flex;
      gap:.5rem;
      align-items:center;
      width:fit-content;
      padding:.35rem .7rem;
      border-radius: 999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--muted);
      font-weight: 800;
      font-size:.92rem;
    }

    .result h2{
      margin: .7rem 0 .35rem;
      letter-spacing:-.03em;
      font-size: clamp(1.55rem, 3.2vw, 2.1rem);
    }

    .result p{
      margin: 0.35rem 0 0;
      color: var(--muted);
      max-width: 72ch;
    }

    .result .chips{
      display:flex;
      flex-wrap:wrap;
      gap:.5rem;
      margin-top: .9rem;
    }

    .chip{
      padding:.25rem .6rem;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text);
      font-weight: 700;
      font-size:.9rem;
    }

    footer{
      margin-top: 1.6rem;
      color: var(--muted);
      font-size: .95rem;
    }

    @media (min-width: 860px){
      .grid{ grid-template-columns: 1.25fr .75fr; align-items:start; }
      .sticky{ position: sticky; top: 1rem; }
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <div class="kicker">âœ¨ 10 questions â€¢ quick & easy</div>
      <h1>Which Harry Potter character are you?</h1>
      <p class="sub">Answer a few vibes-based questions and get your character match (plus a short description).</p>
    </header>

    <div class="grid">
      <section class="card" aria-live="polite">
        <div class="card-head">
          <div>
            <div class="kicker" id="topicKicker">Your vibe check</div>
          </div>
          <div class="progress" id="progressText">Question 1 of 10</div>
        </div>

        <div class="card-body" id="quizArea">
          <!-- Question renders here -->
        </div>

        <div class="card-body">
          <div class="actions">
            <p class="hint" id="hintText">Pick one option to continue.</p>

            <div class="btn-row">
              <button id="backBtn" type="button">Back</button>
              <button class="primary" id="nextBtn" type="button">Next</button>
            </div>
          </div>
        </div>
      </section>

      <aside class="card sticky">
        <div class="card-head">
          <div>
            <div class="kicker">ðŸª„ Your answers</div>
          </div>
          <div class="progress" id="answeredText">0/10</div>
        </div>
        <div class="card-body">
          <p class="hint">You can change answers anytime. When you hit the last question, youâ€™ll get your result.</p>
          <div class="result" id="resultBox">
            <div class="badge">âœ… Result</div>
            <h2 id="resultName">â€”</h2>
            <p id="resultDesc">â€”</p>
            <div class="chips" id="resultChips"></div>
            <div class="btn-row" style="margin-top:1rem;">
              <button id="restartBtn" type="button">Restart</button>
              <button id="shareBtn" type="button">Copy share text</button>
            </div>
          </div>
        </div>
      </aside>
    </div>

    <footer>
      Fan quiz for fun. If you want, tell me your favorite characters and I can tune the questions to match your taste.
    </footer>
  </div>

  <script>
    // --- Quiz model: each answer adds points to one or more character "buckets".
    // Keep it lighthearted and non-definitive.

    const RESULTS = {
      hermione: {
        name: "Hermione Granger",
        desc: "Thoughtful, determined, and quietly fearless. Youâ€™re the friend who shows up prepared, speaks up when it matters, and makes everyone around you a little better.",
        chips: ["Curious", "Brave", "High standards", "Big heart"]
      },
      harry: {
        name: "Harry Potter",
        desc: "Youâ€™re courageous and loyalâ€”even when things get messy. You donâ€™t chase attention, but youâ€™ll step forward when someone needs you.",
        chips: ["Loyal", "Resilient", "Instinct-led", "Protective"]
      },
      ron: {
        name: "Ron Weasley",
        desc: "Warm, funny, and real. Youâ€™re the glue in the groupâ€”down to earth, unexpectedly wise, and always there when it counts.",
        chips: ["Humor", "Loyalty", "Heart-first", "Underrated genius"]
      },
      luna: {
        name: "Luna Lovegood",
        desc: "Youâ€™re imaginative and wonderfully yourself. You notice what others miss, you stay kind, and your weirdness is your superpower.",
        chips: ["Original", "Gentle", "Big imagination", "Unbothered"]
      },
      draco: {
        name: "Draco Malfoy",
        desc: "Youâ€™re ambitious, sharp, and protective of your people. You can come off icy, but underneath is someone who cares more than they admit.",
        chips: ["Ambitious", "Competitive", "Selective", "Secret softie"]
      },
      cedric: {
        name: "Cedric Diggory",
        desc: "Youâ€™re steady, friendly, and quietly impressive. People trust you because youâ€™re fairâ€”and you treat others well even when you could win by being petty.",
        chips: ["Fair", "Grounded", "Confident", "Respectful"]
      }
    };

    const QUESTIONS = [
      {
        topic: "Your default mode",
        q: "When you walk into a new situation, your first instinct is toâ€¦",
        choices: [
          { label: "Observe quietly and figure out whatâ€™s going on", desc: "Collect the vibe before you act", score: { luna: 2, draco: 1, hermione: 1 } },
          { label: "Introduce yourself and make things friendly", desc: "Warmth first, always", score: { ron: 2, cedric: 2 } },
          { label: "Take the lead if nobody else does", desc: "Someoneâ€™s gotta steer", score: { harry: 2, hermione: 1 } },
          { label: "Assess how to win (politely)", desc: "Strategic excellence", score: { draco: 2, hermione: 1, cedric: 1 } }
        ]
      },
      {
        topic: "Friendship",
        q: "Your friends would describe you asâ€¦",
        choices: [
          { label: "Loyal to the bone", desc: "Ride or die (healthy edition)", score: { harry: 2, ron: 2 } },
          { label: "The organized one", desc: "Plans, lists, backup plans", score: { hermione: 3 } },
          { label: "The funny one", desc: "You keep the group sane", score: { ron: 3 } },
          { label: "The unique one", desc: "Youâ€™re on your own wavelength", score: { luna: 3 } }
        ]
      },
      {
        topic: "Pressure",
        q: "When things get stressful, you tend toâ€¦",
        choices: [
          { label: "Focus and get practical", desc: "Solve the problem step by step", score: { hermione: 2, cedric: 2 } },
          { label: "Push through on instinct", desc: "Courage first, details later", score: { harry: 3 } },
          { label: "Crack jokes to cope", desc: "Humor as armor", score: { ron: 2, luna: 1 } },
          { label: "Hide it and handle it privately", desc: "Youâ€™re fine. (Youâ€™re not.)", score: { draco: 2, harry: 1 } }
        ]
      },
      {
        topic: "Values",
        q: "What matters most to you?",
        choices: [
          { label: "Doing the right thing", desc: "Even when itâ€™s hard", score: { harry: 2, hermione: 1, cedric: 2 } },
          { label: "Being understood", desc: "You want to be seen", score: { luna: 2, draco: 1 } },
          { label: "Belonging", desc: "Your people are everything", score: { ron: 2, harry: 1 } },
          { label: "Achievement", desc: "You set high goals", score: { hermione: 2, draco: 2, cedric: 1 } }
        ]
      },
      {
        topic: "Weekend energy",
        q: "Pick a perfect weekend plan:",
        choices: [
          { label: "A cozy day + books/learning + tea", desc: "Soft productivity", score: { hermione: 2, luna: 1 } },
          { label: "An adventure with friends", desc: "Memories > naps", score: { harry: 2, ron: 2 } },
          { label: "Something artsy and slightly weird", desc: "Let your brain sparkle", score: { luna: 3 } },
          { label: "A nice place where you look incredible", desc: "A little main character moment", score: { draco: 3 } }
        ]
      },
      {
        topic: "Conflict",
        q: "If someone is being unfair, youâ€¦",
        choices: [
          { label: "Call it out (politely but firmly)", desc: "Respectfully: no.", score: { hermione: 2, cedric: 2 } },
          { label: "Step in and protect others", desc: "You donâ€™t love conflict, but youâ€™ll do it", score: { harry: 3 } },
          { label: "Back your friends up immediately", desc: "No one messes with your people", score: { ron: 2, draco: 1 } },
          { label: "Defuse with calm + perspective", desc: "You lower the temperature", score: { luna: 2, cedric: 1 } }
        ]
      },
      {
        topic: "Work style",
        q: "Your best working style isâ€¦",
        choices: [
          { label: "Prepared and structured", desc: "You thrive with a plan", score: { hermione: 3 } },
          { label: "Team-based and supportive", desc: "You lift others up", score: { cedric: 2, ron: 2 } },
          { label: "Independent and fast-moving", desc: "You figure it out on the fly", score: { harry: 2, draco: 1 } },
          { label: "Creative and intuitive", desc: "You connect dots your way", score: { luna: 3 } }
        ]
      },
      {
        topic: "Risk",
        q: "How do you feel about taking risks?",
        choices: [
          { label: "If itâ€™s for something I believe in, yes", desc: "Values over comfort", score: { harry: 3, hermione: 1 } },
          { label: "I prefer calculated risks", desc: "Plan first, leap second", score: { hermione: 2, draco: 1, cedric: 1 } },
          { label: "Iâ€™ll risk it for the story", desc: "Lifeâ€™s meant to be lived", score: { ron: 2, luna: 1 } },
          { label: "I avoid risks unless Iâ€™m confident", desc: "Control is peace", score: { draco: 2, cedric: 1 } }
        ]
      },
      {
        topic: "Vibe check",
        q: "Pick a motto:",
        choices: [
          { label: "â€œBe brave, even when itâ€™s scary.â€", desc: "", score: { harry: 3 } },
          { label: "â€œKnowledge is power.â€", desc: "", score: { hermione: 3 } },
          { label: "â€œKind is cool.â€", desc: "", score: { luna: 2, cedric: 1 } },
          { label: "â€œAim higher.â€", desc: "", score: { draco: 2, cedric: 1 } }
        ]
      },
      {
        topic: "Your role",
        q: "In a group, youâ€™re usually theâ€¦",
        choices: [
          { label: "Leader (even if you didnâ€™t ask to be)", desc: "", score: { harry: 2, hermione: 1 } },
          { label: "Planner / fixer", desc: "", score: { hermione: 2, cedric: 1 } },
          { label: "Hype person", desc: "", score: { ron: 3 } },
          { label: "Wildcard with surprising wisdom", desc: "", score: { luna: 3 } }
        ]
      }
    ];

    const state = {
      idx: 0,
      answers: Array(QUESTIONS.length).fill(null) // stores choice index
    };

    const quizArea = document.getElementById("quizArea");
    const progressText = document.getElementById("progressText");
    const answeredText = document.getElementById("answeredText");
    const hintText = document.getElementById("hintText");
    const topicKicker = document.getElementById("topicKicker");

    const backBtn = document.getElementById("backBtn");
    const nextBtn = document.getElementById("nextBtn");

    const resultBox = document.getElementById("resultBox");
    const resultName = document.getElementById("resultName");
    const resultDesc = document.getElementById("resultDesc");
    const resultChips = document.getElementById("resultChips");
    const restartBtn = document.getElementById("restartBtn");
    const shareBtn = document.getElementById("shareBtn");

    function answeredCount(){
      return state.answers.filter(a => a !== null).length;
    }

    function computeScores(){
      const totals = { hermione:0, harry:0, ron:0, luna:0, draco:0, cedric:0 };

      state.answers.forEach((choiceIdx, qIdx) => {
        if (choiceIdx === null) return;
        const choice = QUESTIONS[qIdx].choices[choiceIdx];
        for (const k of Object.keys(choice.score)) {
          totals[k] += choice.score[k];
        }
      });

      return totals;
    }

    function bestResultKey(scores){
      // pick highest; if tie, pick the one with the most "weighted" presence by stable order
      const keys = Object.keys(scores);
      keys.sort((a,b) => scores[b]-scores[a]);
      const topScore = scores[keys[0]];
      const tied = keys.filter(k => scores[k] === topScore);

      // tie-breaker: prefer based on which appears more in your answers (simple deterministic)
      const order = ["hermione","harry","ron","luna","cedric","draco"];
      tied.sort((a,b)=> order.indexOf(a)-order.indexOf(b));
      return tied[0];
    }

    function renderQuestion(){
      const qObj = QUESTIONS[state.idx];
      topicKicker.textContent = qObj.topic;
      progressText.textContent = `Question ${state.idx + 1} of ${QUESTIONS.length}`;
      answeredText.textContent = `${answeredCount()}/${QUESTIONS.length}`;

      const picked = state.answers[state.idx];

      quizArea.innerHTML = `
        <p class="q">${qObj.q}</p>
        <div class="choices">
          ${qObj.choices.map((c, i) => `
            <label class="choice">
              <input type="radio" name="q${state.idx}" value="${i}" ${picked === i ? "checked" : ""} />
              <div>
                <b>${c.label}</b>
                ${c.desc ? `<span>${c.desc}</span>` : ""}
              </div>
            </label>
          `).join("")}
        </div>
      `;

      // enable/disable buttons
      backBtn.disabled = state.idx === 0;
      nextBtn.textContent = (state.idx === QUESTIONS.length - 1) ? "See my result" : "Next";

      const hasAnswer = state.answers[state.idx] !== null;
      hintText.textContent = hasAnswer ? "Nice. You can change your answer anytime." : "Pick one option to continue.";

      // wire radio changes
      quizArea.querySelectorAll('input[type="radio"]').forEach((el) => {
        el.addEventListener("change", (e) => {
          state.answers[state.idx] = Number(e.target.value);
          answeredText.textContent = `${answeredCount()}/${QUESTIONS.length}`;
          hintText.textContent = "Nice. You can change your answer anytime.";
        });
      });

      // hide result until finished
      if (answeredCount() < QUESTIONS.length) {
        resultBox.style.display = "none";
      }
    }

    function showResult(){
      const scores = computeScores();
      const key = bestResultKey(scores);
      const r = RESULTS[key];

      resultName.textContent = r.name;
      resultDesc.textContent = r.desc;

      resultChips.innerHTML = "";
      r.chips.forEach(ch => {
        const span = document.createElement("span");
        span.className = "chip";
        span.textContent = ch;
        resultChips.appendChild(span);
      });

      resultBox.style.display = "block";
      resultBox.scrollIntoView({ behavior: "smooth", block: "nearest" });
    }

    backBtn.addEventListener("click", () => {
      if (state.idx > 0) state.idx -= 1;
      renderQuestion();
    });

    nextBtn.addEventListener("click", () => {
      if (state.answers[state.idx] === null) {
        hintText.textContent = "Pick an option first ðŸ™‚";
        return;
      }

      if (state.idx < QUESTIONS.length - 1) {
        state.idx += 1;
        renderQuestion();
      } else {
        // finished
        showResult();
      }
    });

    restartBtn.addEventListener("click", () => {
      state.idx = 0;
      state.answers = Array(QUESTIONS.length).fill(null);
      resultBox.style.display = "none";
      renderQuestion();
    });

    shareBtn.addEventListener("click", async () => {
      const scores = computeScores();
      const key = bestResultKey(scores);
      const r = RESULTS[key];
      const text = `I got "${r.name}" on a Harry Potter vibe quiz âœ¨`;

      try {
        await navigator.clipboard.writeText(text);
        shareBtn.textContent = "Copied!";
        setTimeout(() => (shareBtn.textContent = "Copy share text"), 1200);
      } catch {
        alert(text);
      }
    });

    // initial render
    renderQuestion();
  </script>
</body>
</html>
